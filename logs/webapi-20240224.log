2024-02-24 17:12:00.178 +06:00  INF  Executed DbCommand (1,336ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "RoomService";
2024-02-24 17:12:00.669 +06:00  INF  Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2024-02-24 17:12:00.906 +06:00  INF  Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-02-24 17:12:00.918 +06:00  INF  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-02-24 17:12:01.206 +06:00  INF  No migrations were applied. The database is already up to date.
2024-02-24 17:12:01.312 +06:00  INF  Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-02-24 17:12:02.002 +06:00  INF  Application started. Press Ctrl+C to shut down.
2024-02-24 17:12:02.003 +06:00  INF  Hosting environment: Development
2024-02-24 17:12:02.003 +06:00  INF  Content root path: C:\Users\Администратор\RiderProjects\Hotel\RoomService
2024-02-24 17:12:02.223 +06:00  INF  Request starting HTTP/2 GET https://localhost:44318/swagger - -
2024-02-24 17:12:02.437 +06:00  INF  Request finished HTTP/2 GET https://localhost:44318/swagger - - - 301 - - 220.9598ms
2024-02-24 17:12:02.448 +06:00  INF  Request starting HTTP/2 GET https://localhost:44318/swagger/index.html - -
2024-02-24 17:12:02.757 +06:00  INF  Request finished HTTP/2 GET https://localhost:44318/swagger/index.html - - - 200 - text/html;charset=utf-8 309.1264ms
2024-02-24 17:12:02.801 +06:00  INF  Request starting HTTP/2 GET https://localhost:44318/swagger/swagger-ui.css - -
2024-02-24 17:12:02.802 +06:00  INF  Request starting HTTP/2 GET https://localhost:44318/swagger/swagger-ui-bundle.js - -
2024-02-24 17:12:02.803 +06:00  INF  Request starting HTTP/2 GET https://localhost:44318/swagger/swagger-ui-standalone-preset.js - -
2024-02-24 17:12:02.841 +06:00  INF  Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-02-24 17:12:02.841 +06:00  INF  Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-02-24 17:12:02.847 +06:00  INF  Request finished HTTP/2 GET https://localhost:44318/swagger/swagger-ui.css - - - 200 143943 text/css 45.5606ms
2024-02-24 17:12:02.852 +06:00  INF  Request finished HTTP/2 GET https://localhost:44318/swagger/swagger-ui-standalone-preset.js - - - 200 339486 text/javascript 49.4464ms
2024-02-24 17:12:02.855 +06:00  INF  Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-02-24 17:12:02.912 +06:00  INF  Request finished HTTP/2 GET https://localhost:44318/swagger/swagger-ui-bundle.js - - - 200 1096145 text/javascript 108.6078ms
2024-02-24 17:12:03.201 +06:00  INF  Request starting HTTP/2 GET https://localhost:44318/swagger/favicon-32x32.png - -
2024-02-24 17:12:03.201 +06:00  INF  Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-02-24 17:12:03.202 +06:00  INF  Request finished HTTP/2 GET https://localhost:44318/swagger/favicon-32x32.png - - - 200 628 image/png 0.9848ms
2024-02-24 17:12:03.247 +06:00  INF  Request starting HTTP/2 GET https://localhost:44318/swagger/v1/swagger.json - -
2024-02-24 17:12:03.439 +06:00  INF  Request finished HTTP/2 GET https://localhost:44318/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 191.8099ms
2024-02-24 17:12:09.242 +06:00  INF  Request starting HTTP/2 POST https://localhost:44318/api/v1/amenities application/json 50
2024-02-24 17:12:09.280 +06:00  INF  Executing endpoint 'RoomService.Controllers.AmenityController.Create (RoomService)'
2024-02-24 17:12:09.377 +06:00  INF  Route matched with {action = "Create", controller = "Amenity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(RoomService.DTO.CreateAmenityDto, System.Threading.CancellationToken) on controller RoomService.Controllers.AmenityController (RoomService).
2024-02-24 17:12:09.448 +06:00  INF  Executing action method RoomService.Controllers.AmenityController.Create (RoomService) - Validation state: "Valid"
2024-02-24 17:12:10.005 +06:00  ERR  Failed executing DbCommand (63ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = Guid), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Amenities" ("Id", "Description", "RoomTypeId", "Title")
VALUES (@p0, @p1, @p2, @p3);
2024-02-24 17:12:10.070 +06:00  ERR  An exception occurred in the database while saving changes for context type 'RoomService.DataAccess.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: отношение "Amenities" не существует

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 42P01
    MessageText: отношение "Amenities" не существует
    Position: 13
    File: parse_relation.c
    Line: 1452
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: отношение "Amenities" не существует

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 42P01
    MessageText: отношение "Amenities" не существует
    Position: 13
    File: parse_relation.c
    Line: 1452
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)

2024-02-24 17:12:10.113 +06:00  INF  Executed action RoomService.Controllers.AmenityController.Create (RoomService) in 718.9285ms
2024-02-24 17:12:10.118 +06:00  INF  Executed endpoint 'RoomService.Controllers.AmenityController.Create (RoomService)'
2024-02-24 17:12:10.133 +06:00  ERR  An unhandled exception has occurred while executing the request.Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: отношение "Amenities" не существует

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 42P01
    MessageText: отношение "Amenities" не существует
    Position: 13
    File: parse_relation.c
    Line: 1452
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RoomService.Services.AmenityService.CreateAsync(CreateAmenityDto createAmenityDto, CancellationToken ct) in C:\Users\Администратор\RiderProjects\Hotel\RoomService\Services\AmenityService.cs:line 31
   at RoomService.Controllers.AmenityController.Create(CreateAmenityDto amenityDto, CancellationToken ct) in C:\Users\Администратор\RiderProjects\Hotel\RoomService\Controllers\AmenityController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)

2024-02-24 17:12:10.206 +06:00  INF  Request finished HTTP/2 POST https://localhost:44318/api/v1/amenities application/json 50 - 500 - text/plain;+charset=utf-8 964.9900ms
2024-02-24 17:12:42.608 +06:00  INF  Application is shutting down...
2024-02-24 17:12:56.846 +06:00  INF  Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-02-24 17:12:56.982 +06:00  INF  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-02-24 17:12:57.042 +06:00  INF  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-02-24 17:12:57.081 +06:00  INF  No migrations were applied. The database is already up to date.
2024-02-24 17:12:57.380 +06:00  INF  Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
REVOKE CONNECT ON DATABASE "RoomService" FROM PUBLIC;
SELECT pg_terminate_backend(pg_stat_activity.pid) FROM pg_stat_activity WHERE datname = 'RoomService';
2024-02-24 17:12:57.549 +06:00  INF  Executed DbCommand (168ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "RoomService";
2024-02-24 17:12:58.449 +06:00  INF  Executed DbCommand (630ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "RoomService";
2024-02-24 17:12:58.769 +06:00  INF  Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Location" (
    "Id" uuid NOT NULL,
    "Country" text NOT NULL,
    "City" text NOT NULL,
    "Street" text NOT NULL,
    "HouseNumber" text NULL,
    CONSTRAINT "PK_Location" PRIMARY KEY ("Id")
);
2024-02-24 17:12:58.783 +06:00  INF  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "RoomsTypes" (
    "Id" uuid NOT NULL,
    "Title" text NOT NULL,
    "Description" text NULL,
    "ImagePath" text NULL,
    "MaxCapacity" integer NOT NULL,
    "NightlyRate" numeric NOT NULL,
    CONSTRAINT "PK_RoomsTypes" PRIMARY KEY ("Id")
);
2024-02-24 17:12:58.811 +06:00  INF  Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "HotelBranches" (
    "Id" uuid NOT NULL,
    "Name" text NOT NULL,
    "LocationId" uuid NOT NULL,
    CONSTRAINT "PK_HotelBranches" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_HotelBranches_Location_LocationId" FOREIGN KEY ("LocationId") REFERENCES "Location" ("Id") ON DELETE CASCADE
);
2024-02-24 17:12:58.823 +06:00  INF  Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Amenities" (
    "Id" uuid NOT NULL,
    "Title" text NOT NULL,
    "Description" text NULL,
    "RoomTypeId" uuid NULL,
    CONSTRAINT "PK_Amenities" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Amenities_RoomsTypes_RoomTypeId" FOREIGN KEY ("RoomTypeId") REFERENCES "RoomsTypes" ("Id")
);
2024-02-24 17:12:58.832 +06:00  INF  Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Reservations" (
    "Id" uuid NOT NULL,
    "DateIn" timestamp with time zone NOT NULL,
    "DateOut" timestamp with time zone NOT NULL,
    "MadeBy" integer NOT NULL,
    "Status" integer NOT NULL,
    "HotelBranchId" uuid NOT NULL,
    "ReservationCreatorId" uuid NOT NULL,
    CONSTRAINT "PK_Reservations" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Reservations_HotelBranches_HotelBranchId" FOREIGN KEY ("HotelBranchId") REFERENCES "HotelBranches" ("Id") ON DELETE CASCADE
);
2024-02-24 17:12:58.845 +06:00  INF  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Rooms" (
    "Id" uuid NOT NULL,
    "Number" text NOT NULL,
    "TypeId" uuid NOT NULL,
    "HotelBranchId" uuid NOT NULL,
    CONSTRAINT "PK_Rooms" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Rooms_HotelBranches_HotelBranchId" FOREIGN KEY ("HotelBranchId") REFERENCES "HotelBranches" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Rooms_RoomsTypes_TypeId" FOREIGN KEY ("TypeId") REFERENCES "RoomsTypes" ("Id") ON DELETE CASCADE
);
2024-02-24 17:12:58.854 +06:00  INF  Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "OccupiedRooms" (
    "Id" uuid NOT NULL,
    "CheckIn" timestamp with time zone NULL,
    "CheckOut" timestamp with time zone NULL,
    "Status" integer NOT NULL,
    "RoomId" uuid NULL,
    "ReservationId" uuid NOT NULL,
    CONSTRAINT "PK_OccupiedRooms" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_OccupiedRooms_Reservations_ReservationId" FOREIGN KEY ("ReservationId") REFERENCES "Reservations" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_OccupiedRooms_Rooms_RoomId" FOREIGN KEY ("RoomId") REFERENCES "Rooms" ("Id")
);
2024-02-24 17:12:58.863 +06:00  INF  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Amenities_RoomTypeId" ON "Amenities" ("RoomTypeId");
2024-02-24 17:12:58.866 +06:00  INF  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_HotelBranches_LocationId" ON "HotelBranches" ("LocationId");
2024-02-24 17:12:58.869 +06:00  INF  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_OccupiedRooms_ReservationId" ON "OccupiedRooms" ("ReservationId");
2024-02-24 17:12:58.874 +06:00  INF  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_OccupiedRooms_RoomId" ON "OccupiedRooms" ("RoomId");
2024-02-24 17:12:58.880 +06:00  INF  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reservations_HotelBranchId" ON "Reservations" ("HotelBranchId");
2024-02-24 17:12:58.884 +06:00  INF  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Rooms_HotelBranchId" ON "Rooms" ("HotelBranchId");
2024-02-24 17:12:58.889 +06:00  INF  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Rooms_TypeId" ON "Rooms" ("TypeId");
2024-02-24 17:12:59.096 +06:00  INF  Application started. Press Ctrl+C to shut down.
2024-02-24 17:12:59.097 +06:00  INF  Hosting environment: Development
2024-02-24 17:12:59.097 +06:00  INF  Content root path: C:\Users\Администратор\RiderProjects\Hotel\RoomService
2024-02-24 17:12:59.165 +06:00  INF  Request starting HTTP/2 GET https://localhost:44318/swagger/index.html - -
2024-02-24 17:12:59.601 +06:00  INF  Request finished HTTP/2 GET https://localhost:44318/swagger/index.html - - - 200 - text/html;charset=utf-8 443.8796ms
2024-02-24 17:12:59.917 +06:00  INF  Request starting HTTP/2 GET https://localhost:44318/swagger/v1/swagger.json - -
2024-02-24 17:13:00.183 +06:00  INF  Request finished HTTP/2 GET https://localhost:44318/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 265.8238ms
2024-02-24 17:13:07.640 +06:00  INF  Request starting HTTP/2 POST https://localhost:44318/api/v1/amenities application/json 50
2024-02-24 17:13:07.663 +06:00  INF  Executing endpoint 'RoomService.Controllers.AmenityController.Create (RoomService)'
2024-02-24 17:13:07.749 +06:00  INF  Route matched with {action = "Create", controller = "Amenity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(RoomService.DTO.CreateAmenityDto, System.Threading.CancellationToken) on controller RoomService.Controllers.AmenityController (RoomService).
2024-02-24 17:13:07.845 +06:00  INF  Executing action method RoomService.Controllers.AmenityController.Create (RoomService) - Validation state: "Valid"
2024-02-24 17:13:08.493 +06:00  INF  Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = Guid), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Amenities" ("Id", "Description", "RoomTypeId", "Title")
VALUES (@p0, @p1, @p2, @p3);
2024-02-24 17:13:08.540 +06:00  INF  Amenity created with Id: 1314e335-7034-4a00-a04e-9be4b0dd18cd
2024-02-24 17:13:08.571 +06:00  INF  Executed action method RoomService.Controllers.AmenityController.Create (RoomService), returned result Microsoft.AspNetCore.Mvc.OkResult in 711.7657ms.
2024-02-24 17:13:08.589 +06:00  INF  Executing StatusCodeResult, setting HTTP status code 200
2024-02-24 17:13:08.600 +06:00  INF  Executed action RoomService.Controllers.AmenityController.Create (RoomService) in 841.4804ms
2024-02-24 17:13:08.602 +06:00  INF  Executed endpoint 'RoomService.Controllers.AmenityController.Create (RoomService)'
2024-02-24 17:13:08.637 +06:00  INF  Request finished HTTP/2 POST https://localhost:44318/api/v1/amenities application/json 50 - 200 - - 997.5849ms
2024-02-24 17:14:28.864 +06:00  INF  Request starting HTTP/2 GET https://localhost:44318/api/v1/amenities - -
2024-02-24 17:14:28.868 +06:00  INF  Executing endpoint 'RoomService.Controllers.AmenityController.GetAll (RoomService)'
2024-02-24 17:14:28.925 +06:00  INF  Route matched with {action = "GetAll", controller = "Amenity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RoomService.DTO.ResponseAmenityDto]]] GetAll(System.Threading.CancellationToken) on controller RoomService.Controllers.AmenityController (RoomService).
2024-02-24 17:14:28.934 +06:00  INF  Executing action method RoomService.Controllers.AmenityController.GetAll (RoomService) - Validation state: "Valid"
2024-02-24 17:14:29.814 +06:00  INF  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Title" AS "Name", a."Description"
FROM "Amenities" AS a
2024-02-24 17:14:29.835 +06:00  INF  Retrieved 1 amenities
2024-02-24 17:14:29.840 +06:00  INF  Executed action method RoomService.Controllers.AmenityController.GetAll (RoomService), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 905.3033ms.
2024-02-24 17:14:29.864 +06:00  INF  Executing OkObjectResult, writing value of type 'FluentResults.Result`1[[System.Collections.Generic.IEnumerable`1[[RoomService.DTO.ResponseAmenityDto, RoomService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-02-24 17:14:29.914 +06:00  INF  Executed action RoomService.Controllers.AmenityController.GetAll (RoomService) in 988.4564ms
2024-02-24 17:14:29.914 +06:00  INF  Executed endpoint 'RoomService.Controllers.AmenityController.GetAll (RoomService)'
2024-02-24 17:14:29.915 +06:00  INF  Request finished HTTP/2 GET https://localhost:44318/api/v1/amenities - - - 200 - application/json;+charset=utf-8 1050.7091ms
2024-02-24 17:14:50.212 +06:00  INF  Request starting HTTP/2 GET https://localhost:44318/api/v1/amenities - -
2024-02-24 17:14:50.213 +06:00  INF  Executing endpoint 'RoomService.Controllers.AmenityController.GetAll (RoomService)'
2024-02-24 17:14:50.213 +06:00  INF  Route matched with {action = "GetAll", controller = "Amenity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RoomService.DTO.ResponseAmenityDto]]] GetAll(System.Threading.CancellationToken) on controller RoomService.Controllers.AmenityController (RoomService).
2024-02-24 17:14:50.217 +06:00  INF  Executing action method RoomService.Controllers.AmenityController.GetAll (RoomService) - Validation state: "Valid"
2024-02-24 17:14:50.232 +06:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Title" AS "Name", a."Description"
FROM "Amenities" AS a
2024-02-24 17:14:50.233 +06:00  INF  Retrieved 1 amenities
2024-02-24 17:14:50.233 +06:00  INF  Executed action method RoomService.Controllers.AmenityController.GetAll (RoomService), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.0393ms.
2024-02-24 17:14:50.234 +06:00  INF  Executing OkObjectResult, writing value of type 'FluentResults.Result`1[[System.Collections.Generic.IEnumerable`1[[RoomService.DTO.ResponseAmenityDto, RoomService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-02-24 17:14:50.236 +06:00  INF  Executed action RoomService.Controllers.AmenityController.GetAll (RoomService) in 22.8318ms
2024-02-24 17:14:50.236 +06:00  INF  Executed endpoint 'RoomService.Controllers.AmenityController.GetAll (RoomService)'
2024-02-24 17:14:50.237 +06:00  INF  Request finished HTTP/2 GET https://localhost:44318/api/v1/amenities - - - 200 - application/json;+charset=utf-8 24.4124ms
2024-02-24 17:16:03.394 +06:00  INF  Application is shutting down...
